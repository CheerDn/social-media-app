(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{216:function(e,t,a){"use strict";a.r(t);var s=a(0),n=a.n(s),l=a(6),c=a(15),o=a(3),r=a(2),i=a.n(r),m=a(11),u=a(107),d=a.n(u),p=a(19),h=a(17),f=a(5),b=a(10);t.default=Object(c.h)((function(e){const t=Object(s.useContext)(f.a),a=Object(s.useContext)(b.a),[r,u]=Object(s.useState)(!0),[E,g]=Object(s.useState)(),{id:w}=Object(c.g)();if(Object(s.useEffect)(()=>{const e=i.a.CancelToken.source();return async function(){try{const t=await i.a.get(`/post/${w}`,{cancelToken:e.token});g(t.data),u(!1)}catch(e){console.log("There was a problem or the request might be cancelled")}}(),()=>{e.cancel()}},[w]),!r&&!E)return n.a.createElement(h.a,null);if(r)return n.a.createElement(l.a,{title:"..."},n.a.createElement(m.a,null));const y=new Date(E.createdDate),N=`${y.getMonth()+1}/${y.getDate()}/${y.getFullYear()}`;return n.a.createElement(l.a,{title:E.title},n.a.createElement("div",{className:"d-flex justify-content-between"},n.a.createElement("h2",null,E.title),!!t.loggedIn&&t.user.username==E.author.username&&n.a.createElement("span",{className:"pt-2"},n.a.createElement(o.b,{to:`/post/${E._id}/edit`,"data-tip":"Edit","data-for":"edit",className:"text-primary mr-2"},n.a.createElement("i",{className:"fas fa-edit"})),n.a.createElement(p.a,{id:"edit",className:"custom-tooltip"})," ",n.a.createElement("a",{onClick:async function(){if(window.confirm("Do you really want to delete this post?"))try{const s=await i.a.delete(`/post/${w}`,{data:{token:t.user.token}});"Success"==s.data&&(console.log(s.data),a({type:"flashMessage",value:"Post was successfully deleted."}),e.history.push(`/profile/${t.user.username}`))}catch(e){console.log("There was a problem or the request might be cancelled")}},"data-tip":"Delete","data-for":"delete",className:"delete-post-button text-danger"},n.a.createElement("i",{className:"fas fa-trash"})),n.a.createElement(p.a,{id:"delete",className:"custom-tooltip"}))),n.a.createElement("p",{className:"text-muted small mb-4"},n.a.createElement(o.b,{to:`/profile/${E.author.username}`},n.a.createElement("img",{className:"avatar-tiny",src:E.author.avatar})),"Posted by ",n.a.createElement(o.b,{to:`/profile/${E.author.username}`},E.author.username)," on ",N),n.a.createElement("div",{className:"body-content"},n.a.createElement(d.a,{source:E.body,allowedTypes:["paragraph","strong","emphasis","text","heading","list","listItem"]})))}))}}]);